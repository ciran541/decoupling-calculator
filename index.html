<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/>
  <title>Decoupling Calculator</title>
  <link rel="stylesheet" href="styles.css">
  
</head>
<body>
    <div class="container">
      <div class="calculator">
        <div class="calculator-content">
          <!-- Inputs Section -->
          <div class="inputs-section">
            <div class="input-columns">
              <div class="input-column">
                <h3 class="subheading">Property Details</h3>
                
                <div class="input-group">
                  <label class="input-label" for="propertyValuation">Property Valuation</label>
                  <div class="input-container">
                    <div class="input-icon">SGD</div>
                    <input type="text" id="propertyValuation" inputmode="numeric" pattern="[0-9]*" value="1,000,000" min="100000">
                  </div>
                  <div class="field-error" id="propertyValuationError"></div>
                </div>
  
                <div class="input-group">
                  <label class="input-label" for="outstandingLoan">Outstanding Loan</label>
                  <div class="input-container">
                    <div class="input-icon">SGD</div>
                    <input type="text" id="outstandingLoan" inputmode="numeric" pattern="[0-9]*" value="500,000" min="0">
                  </div>
                  <div class="field-error" id="outstandingLoanError"></div>
                </div>
  
                <div class="input-group">
                  <label class="input-label" for="yearsSincePurchase">Years Since Purchase</label>
                  <div class="input-container">
                    <select id="yearsSincePurchase">
                      <option value="0">Less than 1 year</option>
                      <option value="1">Between 1 & 2 years</option>
                      <option value="2">Between 2 & 3 years</option>
                      <option value="3" selected>More than 3 years</option>
                    </select>
                  </div>
                </div>
              </div>
  
              <div class="input-column">
                <h3 class="subheading">Buyer's Profile</h3>
                
                <div class="input-group">
                  <label class="input-label" for="buyerShare">Shareholding %</label>
                  <div class="input-container">
                    <div class="input-icon">%</div>
                    <input type="text" id="buyerShare" value="50" min="1" max="99">
                  </div>
                  <div class="field-error" id="buyerShareError"></div>
                </div>
                
                <div class="input-group">
                  <label class="input-label" for="buyerCpfUsage">CPF Usage (incl. accrued interest)</label>
                  <div class="input-container">
                    <div class="input-icon">SGD</div>
                    <input type="text" id="buyerCpfUsage" inputmode="numeric" pattern="[0-9]*" value="100,000" min="0">
                  </div>
                  <div class="field-error" id="buyerCpfUsageError"></div>
                </div>
                
                <div class="input-group">
                  <label class="input-label" for="buyerCpfOaBalance">CPF OA Balance</label>
                  <div class="input-container">
                    <div class="input-icon">SGD</div>
                    <input type="text" id="buyerCpfOaBalance" inputmode="numeric" pattern="[0-9]*" value="100,000" min="0">
                  </div>
                  <div class="field-error" id="buyerCpfOaBalanceError"></div>
                </div>
                
                <div class="input-group">
                  <label class="input-label" for="buyerAge">Age</label>
                  <div class="input-container">
                    <div class="input-icon">Years</div>
                    <input type="text" id="buyerAge" value="35" min="21" max="60">
                  </div>
                  <div class="field-error" id="buyerAgeError"></div>
                </div>
  
                <div class="input-group">
                  <label class="input-label">Residency</label>
                  <div class="radio-group">
                    <label class="radio-label" for="singaporean">
                      <input type="radio" id="singaporean" name="residency" value="Singaporean" checked>
                      <span class="radio-text">Singaporean</span>
                    </label>
                    <label class="radio-label" for="pr">
                      <input type="radio" id="pr" name="residency" value="PR">
                      <span class="radio-text">Permanent Resident</span>
                    </label>
                    <label class="radio-label" for="foreigner">
                      <input type="radio" id="foreigner" name="residency" value="Foreigner">
                      <span class="radio-text">Foreigner</span>
                    </label>
                  </div>
                </div>
              </div>
  
              <div class="input-column">
                <h3 class="subheading">Seller's Profile</h3>
                
                <div class="input-group">
                  <label class="input-label" for="sellerShare">Shareholding %</label>
                  <div class="input-container">
                    <div class="input-icon">%</div>
                    <input type="text" id="sellerShare" value="50" min="1" max="99" readonly style="background-color: #f0f0f0;">
                  </div>
                  <div class="field-error" id="sellerShareError"></div>
                </div>
  
                <div class="input-group">
                  <label class="input-label" for="cpfUsage">CPF Usage (incl. accrued interest)</label>
                  <div class="input-container">
                    <div class="input-icon">SGD</div>
                    <input type="text" id="cpfUsage" inputmode="numeric" pattern="[0-9]*" value="100,000" min="0">
                  </div>
                  <div class="field-error" id="cpfUsageError"></div>
                </div>
              </div>
            </div>
  
            <div class="error-message" id="error"></div>
          </div>
  
          <!-- Results Section -->
          <div class="results-section" id="results">
            <div class="results-header">
              <div>
                <h2 class="section-title">Decoupling Results</h2>
                <p class="results-subtitle">Based on your inputs, here's the breakdown of costs and financial details for both parties.</p>
              </div>
            </div>
            
            <div class="initial-message">
              <div class="initial-message-icon">
                <img src="https://theloanconnection.com.sg/wp-content/uploads/2025/04/stamp_duty_icon.png" alt="Calculator Icon">
              </div>
              <div class="initial-message-content">
                <div class="initial-message-title">Decoupling Calculator</div>
                <div class="initial-message-description">
                  Enter the decoupling details above to estimate costs for both buyer and seller. Results update automatically as you input values.
                </div>
              </div>
            </div>
            <!-- Send Report Button -->
            <div class="bottom-ipa-section">
              <div class="ipa-button-wrapper" style="max-width: 300px; margin: 2rem auto;">
                <button class="ipa-button" id="bottomIpaButton">Send me this report</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- IPA Form Modal -->
    <div id="ipaModal" class="ipa-modal">
      <div class="ipa-modal-content">
        <span class="ipa-close">Ã—</span>
        <div class="ipa-header">Get Your Decoupling Report</div>
        <p class="ipa-subtitle">Receive a detailed PDF report of your decoupling calculations.</p>
        <p class="ipa-subtitle">Fill in your details below, and we'll send it to your email.</p>
        
        <form id="ipaForm" class="ipa-form">
          <div class="ipa-input-group">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" placeholder="Enter Your Name" required>
            <span class="ipa-error" id="nameError"></span>
          </div>
          
          <div class="ipa-input-group">
            <label for="emailAddress">Email Address</label>
            <input type="email" id="emailAddress" name="emailAddress" placeholder="Enter Email Address" required>
            <span class="ipa-error" id="emailError"></span>
          </div>
          
          <div class="ipa-input-group">
            <label for="mobileNumber">Mobile Number</label>
            <input type="tel" id="mobileNumber" name="mobileNumber" placeholder="Enter Mobile Number" required>
            <span class="ipa-error" id="mobileError"></span>
          </div>
          
          <button type="submit" class="ipa-submit">Submit</button>
        </form>
      </div>
    </div>

    <!-- Toast Notification -->
    <div id="notification" class="notification">
      <div class="notification-content">
        <div class="notification-icon">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/>
          </svg>
        </div>
        <div class="notification-message">
          <div class="notification-title">Success!</div>
          <div class="notification-description">Thank you! Your report is being processed and will arrive in your email shortly.</div>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>